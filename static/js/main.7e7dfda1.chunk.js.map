{"version":3,"sources":["components/redux/api-headers.js","components/redux/actions/users.js","components/global/Header.js","components/containers/Header.js","components/global/Banner.js","components/redux/actions/products.js","components/redux/actions/points.js","components/products/Product.js","components/Pagination.js","components/hooks/pagination.js","components/products/ProductHeader.js","components/products/CountProducts.js","components/global/Modal.js","components/global/Loader.js","components/products/Products.js","components/containers/Products.js","components/Home.js","components/points/AddPoints.js","components/containers/Points.js","components/Points.js","components/redux/actions/history.js","components/history/ProductHistory.js","components/history/History.js","components/containers/History.js","components/History.js","App.js","components/redux/reducers/users.js","components/redux/reducers/products.js","components/redux/reducers/points.js","components/redux/reducers/history.js","components/redux/reducers/index.js","components/redux/store.js","index.js"],"names":["headers","Authorization","loadUserFailed","error","type","Header","loadUser","user","points","message","useEffect","className","style","display","to","src","process","alt","name","connect","state","user_reducer","points_reducer","dispatch","a","fetch","method","res","json","result","Banner","title","background","backgroundImage","loadProductFailed","loadProductSuccess","product","loadProduct","loadOrderedProducts","order","orderedProduct","orderby","addPointsFailed","redeemPointsFailed","Product","category","cost","img","redeemPoints","history","useHistory","img_name","split","length","onClick","push","Pagination","products","prev","next","usePagination","data","itemsPerPage","useState","currentPage","setCurrentPage","maxPage","Math","ceil","min","max","jump","page","pageNumber","currentData","begin","end","slice","ProductHeader","orderProducts","CountProducts","totalProducts","totalByPage","Modal","props","onClose","e","bind","this","show","React","Component","Loader","icon","faSpinner","Products","productsByPage","orderProduct","redeemProduct","point","isLoading","userLoading","showModal","setShow","modalMessage","setMessage","paginatedProducts","splitedProducts","map","index","_id","url","product_reducer","loading","sort","prod","orderedProducts","b","id","body","JSON","stringify","productId","redeemed","Home","AddPoints","addPoints","amount","loadPoints","Points","loadHistoryFailed","loadHistorySuccess","loadHistory","loadHistoryProducts","ProductHistory","History","history_reducer","App","exact","path","component","initialState","action","combineReducers","logger","store","console","groupCollapsed","log","getState","groupEnd","createStore","rootReducer","applyMiddleware","thunk","storeFactory","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7e7dfda1.chunk.js","sourcesContent":["export const headers = {\r\n  \"Content-Type\": \"application/json\",\r\n  \"Access-Control-Allow-Origin\" : \"*\",\r\n  Authorization: \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.\"+\r\n  \"eyJfaWQiOiI1ZWRkOWU5OTQ0NGZlNDAwNmRhOTkyNGQiLCJpYXQiOjE1OTE1ODIzNjF9.\"+\r\n  \"-f40dyUIGFsBSB_PTeBGdSLI58I21-QBJNi9wkODcKk\"\r\n};\r\n","import { headers } from \"../api-headers\";\r\n\r\nexport const loadUserFailed = error => ({   \r\n    type: \"LOAD_USER_FAILED\",\r\n    error \r\n});\r\n\r\nexport const loadUserInProgress = () => ({\r\n    type: \"LOAD_USER_IN_PROGRESS\",\r\n});\r\n\r\nexport const loadUserSuccess = user => ({    \r\n    type: \"LOAD_USER_SUCCESS\",\r\n    loadUser: user\r\n});\r\n\r\nexport const getUser = () => {\r\n    return async (dispatch) => {\r\n\r\n        const res = await fetch(\"https://coding-challenge-api.aerolab.co/user/me\", {method: \"GET\",'mode': 'cors', headers});\r\n        const result = await res.json();\r\n\r\n        try {\r\n            dispatch(loadUserSuccess(result));\r\n        } catch (error) {\r\n            dispatch(loadUserFailed(error));\r\n        }\r\n    };\r\n};\r\n  ","import React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Header = ({ loadUser,user, points,message }) => {\r\n\r\n  useEffect(() => {\r\n      loadUser();\r\n  },[loadUser,points,message]);\r\n \r\n  return (    \r\n      <header className=\"header\">\r\n        <Link style={{ display: \"inline-flex\" }} to=\"/rewards-store/\">\r\n          <img\r\n            src={process.env.PUBLIC_URL + \"/aerolab-logo.svg\"}\r\n            alt=\"Aerolab Logo\"\r\n          ></img>\r\n        </Link>\r\n      <div className=\"user-info\">\r\n        <div className=\"user-name\"> \r\n          <p>{user.name}</p>\r\n        </div> \r\n        <div className=\"user-icons\">\r\n          <div className=\"user-points\">\r\n            <span>{user.points}</span>   \r\n          </div>   \r\n          <Link to=\"/rewards-store/\">\r\n            <div className=\"tooltip\">\r\n              <img\r\n                src={process.env.PUBLIC_URL + \"/bag.png\"}\r\n                alt=\"List\"\r\n              ></img>\r\n            <h3 className=\"tooltex\">Product List  </h3>\r\n            </div>\r\n          </Link>\r\n          <Link to=\"/rewards-store/points\">\r\n            <div className=\"tooltip\">\r\n              <img \r\n                src={process.env.PUBLIC_URL + \"/money.png\"}\r\n                alt=\"Coins\"\r\n              ></img>\r\n              <h3 className=\"tooltex\">Add Points</h3>\r\n            </div>\r\n          </Link>\r\n          <Link to=\"/rewards-store/history\">\r\n            <div className=\"tooltip\">\r\n              <img \r\n              src={process.env.PUBLIC_URL + \"/carts.png\"}\r\n              alt=\"Buy\"\r\n              ></img>\r\n              <h3 className=\"tooltex\">View History</h3>\r\n            </div>\r\n          </Link>\r\n        </div>        \r\n      </div>\r\n    </header>     \r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { connect } from \"react-redux\";\r\nimport { getUser } from \"../redux/actions/users\";\r\nimport Header from \"../global/Header\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {    \r\n      user: state.user_reducer.user,\r\n      points: state.points_reducer.points,\r\n      message: state.points_reducer.message\r\n    };\r\n  };\r\n  \r\n  const mapDispatchToProps = (dispatch) => {\r\n    return {\r\n      loadUser: () => dispatch(getUser()),\r\n    };\r\n  };\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);","import React from 'react';\r\n\r\nconst Banner = ({ title, background }) => {\r\n  return (\r\n    <div\r\n      className=\"banner\"\r\n      style={{\r\n        backgroundImage: background\r\n          ? `url(${background})`\r\n          : `url(${process.env.PUBLIC_URL}/header-x1.png)`,\r\n      }}\r\n    >\r\n      <div className=\"b-container\">\r\n          <h1 className=\"b-title\">{title}</h1>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default  Banner;","import { headers } from \"../api-headers\";\r\n\r\nexport const loadProductFailed = error => ({   \r\n    type: \"LOAD_PRODUCT_FAILED\",\r\n    error \r\n});\r\n\r\nexport const loadProductInProgress = () => ({\r\n    type: \"LOAD_PRODUCT_IN_PROGRESS\",\r\n});\r\n\r\nexport const loadProductSuccess = product => ({    \r\n    type: \"LOAD_PRODUCT_SUCCESS\",\r\n    loadProduct: product\r\n});\r\n\r\nexport const loadOrderedProducts = (product,order) => ({    \r\n    type: \"LOAD_ORDERED_PRODUCTS\",\r\n    orderedProduct: product,\r\n    orderby: order\r\n});\r\n\r\nexport const getProducts = () => {\r\n    return async (dispatch) => {\r\n\r\n        const res = await fetch(\"https://coding-challenge-api.aerolab.co/products\", {method: \"GET\",'mode': 'cors',headers});\r\n        const result = await res.json();\r\n\r\n        try {         \r\n            dispatch(loadProductSuccess(result));\r\n        } catch (error) {\r\n            dispatch(loadProductFailed(error));\r\n        }\r\n    };\r\n};\r\n\r\nexport const getOrderedProducts = (product,orderby) => {\r\n    return async (dispatch) => {\r\n\r\n        let orderedProducts = product;  \r\n\r\n        if (orderby !== \"\") {\r\n\r\n            orderedProducts.sort((a, b) => \r\n                orderby === \"category\" ? (a.category > b.category ? 1 : -1)\r\n                : orderby === \"lowestprice\" ? (a.cost > b.cost ? 1 : -1)\r\n                : orderby === \"highestprice\" ? (a.cost < b.cost ? 1 : -1) \r\n                : orderedProducts);  \r\n\r\n            dispatch(loadOrderedProducts(orderedProducts,orderby));   \r\n        }\r\n        \r\n        try {         \r\n            dispatch(loadProductSuccess(orderedProducts));\r\n        } catch (error) {\r\n            dispatch(loadProductFailed(error));\r\n        }\r\n    };\r\n};\r\n","import { headers } from \"../api-headers\";\r\n\r\nexport const addPointsFailed = error => ({   \r\n    type: \"ADD_POINTS_FAILED\",\r\n    error \r\n});\r\n\r\nexport const addPointsInProgress = () => ({\r\n    type: \"ADD_POINTS_IN_PROGRESS\",\r\n});\r\n\r\nexport const addPointsSuccess = points => ({    \r\n    type: \"ADD_POINTS_SUCCESS\",\r\n    loadPoints: points\r\n});\r\n\r\nexport const redeemPointsFailed = error => ({   \r\n    type: \"REDEEM_POINTS_FAILED\",\r\n    error \r\n});\r\n\r\nexport const redeemPointsInProgress = () => ({\r\n    type: \"REDEEM_POINTS_IN_PROGRESS\",\r\n});\r\n\r\nexport const redeemPointsSuccess = points => ({    \r\n    type: \"REDEEM_POINTS_SUCCESS\",\r\n    redeemed: points\r\n});\r\n\r\nexport const addPoints = (amount) => {\r\n    return async (dispatch) => {\r\n\r\n        const res = await fetch(\"https://coding-challenge-api.aerolab.co/user/points\", \r\n        {method: \"POST\",'mode': 'cors',headers, body: JSON.stringify({ amount })});\r\n\r\n        const result = await res.json();\r\n\r\n        try {\r\n            dispatch(addPointsSuccess(result));\r\n        } catch (error) {\r\n            dispatch(addPointsFailed(error));\r\n        }\r\n    };\r\n};\r\n\r\nexport const redeemPoints = (id) => {\r\n    return async (dispatch) => {\r\n\r\n        const res = await fetch(\"https://coding-challenge-api.aerolab.co/redeem\", \r\n        {method: \"POST\",'mode': 'cors',headers, body: JSON.stringify({ productId: id })});\r\n   \r\n        const result = await res.json();\r\n\r\n        try {\r\n            dispatch(redeemPointsSuccess(result));\r\n        } catch (error) {\r\n            dispatch(redeemPointsFailed(error));\r\n        }\r\n    };\r\n};\r\n  ","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nfunction Product ({category, cost, img, name, points,redeemPoints}) {\r\n\r\n  const history = useHistory();\r\n  const navigateTo = () => history.push('/rewards-store/points');\r\n  const img_name = img.split('/');\r\n\r\n  return (\r\n    <div className=\"grid-item\">\r\n      <div className=\"card\">\r\n        <img\r\n          className=\"card-image\"\r\n          src={process.env.PUBLIC_URL + \"/product-pics/\" + img_name[img_name.length-1]}\r\n          alt={name}\r\n        />\r\n        <hr />\r\n        <div className=\"card-content\">\r\n          <p className=\"card-category\">{category}</p>\r\n          <p className=\"card-name\">{name}</p>\r\n        </div>     \r\n        {points >= cost ? (\r\n          <div className=\"card-redeem\">\r\n            <>\r\n              <div className=\"card-price\" >\r\n                <div className=\"card-cost\">\r\n                  <span>{cost}</span>\r\n                </div>\r\n                <img\r\n                  src={process.env.PUBLIC_URL + \"/icons/coin.svg\"}\r\n                  alt=\"Coins\"\r\n                ></img>\r\n              </div>\r\n              <button className=\"card-button\" onClick={redeemPoints}>\r\n                Redeem \r\n              </button>\r\n            </>\r\n          </div>\r\n        ) : null}\r\n        {points >= cost ? (\r\n            <img\r\n            className=\"card-buy\"\r\n              src={process.env.PUBLIC_URL + \"/icons/buy-blue.svg\"}\r\n              alt=\"Buy\"\r\n            ></img>\r\n        ) : (\r\n          <div className=\"card-missing-coins\">              \r\n            <div className=\"card-price\">\r\n              <div className=\"card-cost\">\r\n                  <span>{cost}</span>\r\n              </div>\r\n              <img\r\n                  src={process.env.PUBLIC_URL + \"/icons/coin.svg\"}\r\n                  alt=\"Coins\"\r\n              ></img>  \r\n            </div>  \r\n            <button className=\"card-missing-button\" onClick={navigateTo}>              \r\n                Missing                  \r\n            </button>  \r\n          </div> \r\n        )}           \r\n      </div>     \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n","import React from \"react\";\r\n\r\nconst Pagination = ({ products}) => {\r\n \r\n  return (\r\n    <div className=\"grid-pagination\">\r\n      <button\r\n        className=\"grid-pagination-button\"\r\n        onClick={() => products.prev()}\r\n      >\r\n        <img\r\n          src={process.env.PUBLIC_URL + \"/icons/arrow-left.svg\"}\r\n          alt=\"Previous Page\"\r\n        ></img>\r\n      </button>\r\n      <button\r\n        className=\"grid-pagination-button\"\r\n        onClick={() => products.next()}\r\n      >\r\n        <img\r\n          src={process.env.PUBLIC_URL + \"/icons/arrow-right.svg\"}\r\n          alt=\"Next Page\"\r\n        ></img>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n","import { useState } from \"react\";\r\n\r\nfunction usePagination(data, itemsPerPage) {\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const maxPage = Math.ceil(data.length / itemsPerPage);\r\n\r\n  function currentData() {\r\n    const begin = (currentPage - 1) * itemsPerPage;\r\n    const end = begin + itemsPerPage;\r\n    return data.slice(begin, end);\r\n  }\r\n\r\n  function next() {    \r\n    setCurrentPage(() => Math.min(currentPage + 1, maxPage));\r\n  }\r\n\r\n  function prev() {\r\n    setCurrentPage(() => Math.max(currentPage - 1, 1));\r\n  }\r\n\r\n  function jump(page) {\r\n    const pageNumber = Math.max(1, page);\r\n    setCurrentPage(() => Math.min(pageNumber, maxPage));\r\n  }\r\n\r\n  return { next, prev, jump, currentData, currentPage, maxPage};\r\n}\r\n\r\nexport default usePagination;\r\n","import React from \"react\";\r\n\r\nconst ProductHeader = ({product,orderProducts}) => {\r\n\r\n  return (\r\n    <>  \r\n        <span className=\"p-sortby\">Sort By:</span>     \r\n        <div className=\"grid-item\">\r\n            <button className=\"p-button\" onClick={() => orderProducts(product,\"category\")}>\r\n                Category\r\n            </button>            \r\n        </div>\r\n        <div className=\"grid-item\">\r\n        <button className=\"p-button\" onClick={() => orderProducts(product,\"lowestprice\")}>\r\n            Lowest Price\r\n        </button>\r\n        </div>\r\n        <div className=\"grid-item\">\r\n        <button className=\"p-button\" onClick={() => orderProducts(product,\"highestprice\")}>\r\n            Highest Price\r\n        </button>\r\n        </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductHeader;\r\n","import React from \"react\";\r\n\r\nconst CountProducts = ({ totalProducts, currentPage, totalByPage}) => {\r\n  return (\r\n    <span className=\"p-count\">{totalByPage * currentPage} of {totalProducts} products</span> \r\n  );\r\n};\r\n\r\nexport default CountProducts;\r\n","import React from \"react\";\r\n\r\nexport default class Modal extends React.Component {\r\n    constructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.onClose = this.onClose.bind(this);\r\n\t}\r\n    onClose = e => {\r\n        this.props.onClose(e);\r\n    };\r\n    \r\n    render() {       \r\n        if (!this.props.show) {\r\n            return null;\r\n        }\r\n        return (\r\n            <div className=\"modal\">\r\n                <div className=\"card-modal\">\r\n                    <div className=\"card-content\">\r\n                        <p className =\"card-name\">{this.props.message}</p>\r\n                    </div>\r\n                    <div className=\"card-price\">\r\n                        <button  className=\"card-button modal-button\"\r\n                            onClick={this.onClose}>\r\n                            Close\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>            \r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSpinner } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className=\"load-container\">\r\n        <FontAwesomeIcon className=\"load rotating\" icon={faSpinner} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import React, {useEffect,useState} from \"react\";\r\nimport Product from \"./Product\";\r\nimport Pagination from \"../Pagination\";\r\nimport usePagination from \"../hooks/pagination\";\r\nimport ProductHeader from \"./ProductHeader\";\r\nimport CountProducts from \"./CountProducts\";\r\nimport Modal from \"../global/Modal\";\r\nimport Loader from \"../global/Loader\";\r\n\r\nconst Products = ({ loadProduct, products, user, productsByPage,\r\n    orderProduct,redeemProduct, point, isLoading,userLoading }) => {\r\n\r\n    const [showModal,setShow]  = useState(false);\r\n    const [modalMessage,setMessage]  = useState(\"\");\r\n    \r\n    const closeModal = () =>{    \r\n        setShow(false);\r\n        point.message = \"\";\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadProduct();\r\n        if(point.message !== \"\"){\r\n            setShow(true);\r\n            if(point.message.error){\r\n                setMessage(point.message.error);\r\n            }else if(point.message.message){\r\n                setMessage(point.message.message);\r\n            }            \r\n        }else{            \r\n            setShow(false);\r\n        }                \r\n    },[loadProduct,point.message,user.points]);\r\n\r\n    const paginatedProducts= usePagination(products, productsByPage);\r\n    const splitedProducts = paginatedProducts.currentData();  \r\n\r\n    if (isLoading) {\r\n        return (\r\n            <Loader />\r\n        );\r\n    }\r\n\r\n    return (\r\n      <div>          \r\n        <Modal show={showModal} \r\n               onClose ={closeModal}\r\n               message ={modalMessage}/>   \r\n\r\n        <div className=\"p-header\">\r\n            <CountProducts \r\n                totalProducts = {products.length} \r\n                currentPage={paginatedProducts.currentPage}\r\n                totalByPage = {productsByPage} />\r\n            <ProductHeader product = {products} orderProducts ={orderProduct}/>\r\n            <Pagination products={paginatedProducts}/>            \r\n        </div>\r\n        \r\n        <div className=\"grid-container\">        \r\n            {splitedProducts.map((product, index) => {\r\n            const { _id, category, cost, img, name } = product;\r\n                return (\r\n                    <Product\r\n                        key={name + index}\r\n                        _id={_id}\r\n                        category={category}\r\n                        cost={cost}\r\n                        img={img.url}\r\n                        name={name} \r\n                        points ={user.points}\r\n                        redeemPoints = { () => redeemProduct(_id)}\r\n                    />\r\n                );\r\n            })};          \r\n        </div>  \r\n    </div>      \r\n  );\r\n};\r\n\r\nexport default Products;\r\n","import { connect } from \"react-redux\";\r\nimport { getProducts,getOrderedProducts } from \"../redux/actions/products\";\r\nimport { redeemPoints } from \"../redux/actions/points\";\r\nimport Products from \"../products/Products\";\r\n\r\nconst mapStateToProps = (state) => { \r\n    return {            \r\n      products: state.product_reducer.product,\r\n      user: state.user_reducer.user,\r\n      productsByPage:16,\r\n      point: state.points_reducer,\r\n      orderby: state.product_reducer.orderby,\r\n      isLoading: state.product_reducer.loading,\r\n      userLoading: state.user_reducer.loading\r\n    };\r\n  };\r\n  \r\n  const mapDispatchToProps = (dispatch) => {\r\n    return {\r\n      loadProduct: (sort) => dispatch(getProducts(sort)),\r\n      orderProduct: (prod,sort) => dispatch(getOrderedProducts(prod,sort)),\r\n      redeemProduct: (id) => dispatch(redeemPoints(id))\r\n    };\r\n  };\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(Products);","import Header from \"../components/containers/Header\";\r\nimport Banner from \"../components/global/Banner\";\r\nimport Products from \"../components/containers/Products\";\r\n\r\nconst Home= ()  =>{\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <Banner title=\"Product List\" />\r\n      <Products />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport Loader from \"../global/Loader\";\r\n\r\nconst AddPoints = ({ addPoints, points,isLoading}) => {\r\n  \r\n  if (isLoading) {\r\n    return (\r\n      <Loader />\r\n    );\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"grid-container\">\r\n        <div className=\"grid-item\">\r\n            <button className=\"p-button\" onClick={() => addPoints(1000)}>\r\n              1000\r\n            </button>            \r\n        </div>\r\n        <div className=\"grid-item\">\r\n          <button className=\"p-button\" onClick={() => addPoints(5000)}>\r\n            5000\r\n          </button>\r\n        </div>\r\n        <div className=\"grid-item\">\r\n          <button className=\"p-button\" onClick={() => addPoints(7500)}>\r\n            7500\r\n          </button>\r\n        </div>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddPoints;\r\n","import { connect } from \"react-redux\";\r\nimport { addPoints } from \"../redux/actions/points\";\r\nimport AddPoints from \"../points/AddPoints\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n      points: state.points_reducer,\r\n      isLoading: state.user_reducer.loading\r\n    };\r\n  };\r\n  \r\n  const mapDispatchToProps = (dispatch) => {\r\n    return {\r\n      addPoints: (amount) => dispatch(addPoints(amount)),\r\n    };\r\n  };\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(AddPoints);","import Header from \"../components/containers/Header\";\r\nimport Banner from \"../components/global/Banner\";\r\nimport AddPoints from \"../components/containers/Points\";\r\n\r\nconst Points= ()  =>{\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <Banner title=\"Add Points\" />\r\n      <AddPoints />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Points;\r\n","import { headers } from \"../api-headers\";\r\n\r\nexport const loadHistoryFailed = error => ({   \r\n    type: \"LOAD_HISTORY_FAILED\",\r\n    error \r\n});\r\n\r\nexport const loadHistoryInProgress = () => ({\r\n    type: \"LOAD_HISTORY_IN_PROGRESS\",\r\n});\r\n\r\nexport const loadHistorySuccess = product => ({    \r\n    type: \"LOAD_HISTORY_SUCCESS\",\r\n    loadHistory: product\r\n});\r\n\r\nexport const loadHistoryProducts = (product,order) => ({    \r\n    type: \"LOAD_HISTORY_PRODUCTS\",\r\n    orderedProduct: product,\r\n    orderby: order\r\n});\r\n\r\nexport const getHistory = () => {\r\n    return async (dispatch) => {\r\n\r\n        const res = await fetch(\"https://coding-challenge-api.aerolab.co/user/history\", \r\n        {method: \"GET\",'mode': 'cors',headers});\r\n        const result = await res.json();\r\n        try {\r\n            dispatch(loadHistorySuccess(result));\r\n        } catch (error) {\r\n            dispatch(loadHistoryFailed(error));\r\n        }\r\n    };\r\n};\r\n\r\nexport const getOrderedProducts = (product,orderby) => {\r\n    return async (dispatch) => {\r\n\r\n        let orderedProducts = product;  \r\n\r\n        if (orderby !== \"\") {\r\n\r\n            orderedProducts.sort((a, b) => \r\n                orderby === \"category\" ? (a.category > b.category ? 1 : -1)\r\n                : orderby === \"lowestprice\" ? (a.cost > b.cost ? 1 : -1)\r\n                : orderby === \"highestprice\" ? (a.cost < b.cost ? 1 : -1) \r\n                : orderedProducts);  \r\n\r\n            dispatch(loadHistoryProducts(orderedProducts,orderby));   \r\n        }\r\n        \r\n        try {         \r\n            dispatch(loadHistorySuccess(orderedProducts));\r\n        } catch (error) {\r\n            dispatch(loadHistoryFailed(error));\r\n        }\r\n    };\r\n};","import React from \"react\";\r\n\r\nfunction ProductHistory ({category, img, name }) {\r\n\r\n  const img_name = img.split('/');\r\n\r\n  return (\r\n    <div className=\"grid-item\">\r\n      <div className=\"card\">\r\n        <img\r\n          className=\"card-image\"\r\n          src={process.env.PUBLIC_URL + \"/product-pics/\" + img_name[img_name.length-1]}\r\n          alt={name}\r\n        />\r\n        <hr />\r\n        <div className=\"card-content\">\r\n          <p className=\"card-category\">{category}</p>\r\n          <p className=\"card-name\">{name}</p>\r\n        </div>    \r\n      </div>     \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductHistory;\r\n","import React, {useEffect} from \"react\";\r\nimport ProductHistory from \"./ProductHistory\";\r\nimport Pagination from \"../Pagination\";\r\nimport usePagination from \"../hooks/pagination\";\r\nimport ProductHeader from \"../products/ProductHeader\";\r\nimport CountProducts from \"../products/CountProducts\";\r\nimport Loader from \"../global/Loader\";\r\n\r\nconst History = ({ loadHistory, products, productsByPage,isLoading,orderProduct}) => {\r\n\r\n    useEffect(() => {\r\n        loadHistory();        \r\n    },[loadHistory]);\r\n\r\n    const paginatedProducts= usePagination(products, productsByPage);\r\n    const splitedProducts = paginatedProducts.currentData();\r\n\r\n    if (isLoading) {\r\n        return (\r\n          <Loader />\r\n        );\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"p-header\">\r\n            <CountProducts \r\n                totalProducts = {products.length} \r\n                currentPage={paginatedProducts.currentPage}\r\n                totalByPage = {productsByPage} />\r\n            <ProductHeader product = {products} orderProducts ={orderProduct}/>\r\n            <Pagination products={paginatedProducts}/>            \r\n        </div>\r\n        \r\n        <div className=\"grid-container\">        \r\n            {splitedProducts.map((product, index) => {\r\n            const { _id, category, img, name } = product;\r\n            return (\r\n                <ProductHistory\r\n                    key={name + index}\r\n                    _id={_id}\r\n                    category={category}\r\n                    img={img.url}\r\n                    name={name} />\r\n                );\r\n            })};          \r\n        </div> \r\n    </div>      \r\n  );\r\n};\r\n\r\nexport default History;\r\n","import { connect } from \"react-redux\";\r\nimport { getHistory,getOrderedProducts} from \"../redux/actions/history\";\r\nimport History from \"../history/History\";\r\n\r\nconst mapStateToProps = (state) => { \r\n    return {            \r\n      products: state.history_reducer.history,\r\n      productsByPage:16,\r\n      isLoading: state.history_reducer.loading,\r\n      orderby: state.history_reducer.orderby\r\n    };\r\n  };\r\n  \r\n  const mapDispatchToProps = (dispatch) => {\r\n    return {\r\n      loadHistory: () => dispatch(getHistory()),      \r\n      orderProduct: (prod,sort) => dispatch(getOrderedProducts(prod,sort))\r\n    };\r\n  };\r\n  \r\nexport default connect(mapStateToProps, mapDispatchToProps)(History);","import Header from \"../components/containers/Header\";\r\nimport Banner from \"../components/global/Banner\";\r\nimport History from \"../components/containers/History\";\r\n\r\nconst Points= ()  =>{\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <Banner title=\"Product History\" />\r\n      <History />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Points;\r\n","import React from \"react\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport \"./css/App.css\";\r\nimport Home from \"./components/Home\";\r\nimport Points from \"./components/Points\";\r\nimport History from \"./components/History\";\r\n\r\nconst App = () => (\r\n  <BrowserRouter>\r\n    <div>\r\n      <Switch>\r\n        <Route exact path=\"/rewards-store\" component={Home} />\r\n      </Switch>\r\n      <Switch>\r\n        <Route path=\"/rewards-store/points\" component={Points} />\r\n      </Switch>\r\n      <Switch>\r\n        <Route path=\"/rewards-store/history\" component={History} />\r\n      </Switch>\r\n    </div>\r\n  </BrowserRouter>\r\n);\r\n\r\nexport default App;\r\n","const initialState = {\r\n    user: \"\",\r\n    loading: false,\r\n    error: null,\r\n  };\r\n  \r\nconst user_reducer = (state = initialState,action) =>{\r\n  switch (action.type) {\r\n    case \"LOAD_USER_IN_PROGRESS\": {\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    }\r\n\r\n    case \"LOAD_USER_SUCCESS\": {\r\n      return {\r\n        ...state,\r\n        user: action.loadUser,\r\n        loading: false,\r\n      };\r\n    }\r\n\r\n    case \"LOAD_USER_FAILED\": {\r\n      return {\r\n        ...state,\r\n        error: action.error,\r\n        loading: false,\r\n      };\r\n    }\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n\r\nexport default user_reducer;","const initialState = {\r\n    product: [],\r\n    loading: false,\r\n    error: null,\r\n    orderby: \"\"\r\n  };\r\n  \r\nconst product_reducer = (state = initialState,action) =>{\r\n  switch (action.type) {\r\n    case \"LOAD_PRODUCT_IN_PROGRESS\": {\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    }\r\n\r\n    case \"LOAD_PRODUCT_SUCCESS\": {\r\n      return {\r\n        ...state,\r\n        product: action.loadProduct,\r\n        loading: false,\r\n      };\r\n    }\r\n\r\n    case \"LOAD_PRODUCT_FAILED\": {\r\n      return {\r\n        ...state,\r\n        error: action.error,\r\n        loading: false,\r\n      };\r\n    }\r\n\r\n    case \"LOAD_ORDERED_PRODUCTS\": {\r\n      return {\r\n        ...state,\r\n        product: action.orderedProduct,\r\n        orderby: action.orderby,        \r\n        loading: false,\r\n      };\r\n    }\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n\r\nexport default product_reducer;","const initialState = {\r\n  points: \"\",\r\n  loading: false,\r\n  error: null,\r\n  message:\"\"\r\n};\r\n  \r\nconst points_reducer = (state = initialState,action) =>{\r\n  switch (action.type) {\r\n    case \"ADD_POINTS_IN_PROGRESS\": {\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    }\r\n\r\n    case \"ADD_POINTS_SUCCESS\": {\r\n      return {\r\n        ...state,\r\n        points: action.loadPoints,\r\n        message:\"\",\r\n        loading: false,\r\n      };\r\n    }\r\n\r\n    case \"ADD_POINTS_FAILED\": {\r\n      return {\r\n        ...state,\r\n        error: action.error,\r\n        loading: false,\r\n      };\r\n    }\r\n\r\n    case \"REDEEM_POINTS_IN_PROGRESS\": {\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    }\r\n\r\n    case \"REDEEM_POINTS_SUCCESS\": {\r\n      return {\r\n        ...state,\r\n        message: action.redeemed,\r\n        loading: false,\r\n      };\r\n    }\r\n\r\n    case \"REDEEM_POINTS_FAILED\": {\r\n      return {\r\n        ...state,\r\n        error: action.error,\r\n        loading: false,\r\n      };\r\n    }\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n\r\nexport default points_reducer;","const initialState = {\r\n    history: [],\r\n    loading: false,\r\n    error: null,\r\n    orderby: \"\"\r\n  };\r\n  \r\nconst history_reducer = (state = initialState,action) =>{\r\n  switch (action.type) {\r\n    case \"LOAD_HISTORY_IN_PROGRESS\": {\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    }\r\n\r\n    case \"LOAD_HISTORY_SUCCESS\": {\r\n      return {\r\n        ...state,\r\n        history: action.loadHistory,\r\n        loading: false,\r\n      };\r\n    }\r\n\r\n    case \"LOAD_HISTORY_FAILED\": {\r\n      return {\r\n        ...state,\r\n        error: action.error,\r\n        loading: false,\r\n      };\r\n    }\r\n\r\n    case \"LOAD_HISTORY_PRODUCTS\": {\r\n      return {\r\n        ...state,\r\n        history: action.orderedProduct,\r\n        orderby: action.orderby,        \r\n        loading: false,\r\n      };\r\n    }\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n\r\nexport default history_reducer;","import { combineReducers } from \"redux\";\r\nimport user_reducer from \"./users\";\r\nimport product_reducer from \"./products\";\r\nimport points_reducer from \"./points\";\r\nimport history_reducer from \"./history\";\r\n\r\nexport default combineReducers({ user_reducer , product_reducer, points_reducer, history_reducer});","import { createStore, applyMiddleware } from 'redux'\r\nimport rootReducer from './reducers'\r\nimport thunk from 'redux-thunk'\r\n\r\nconst logger = store => next => action => {\r\n  let result\r\n  console.groupCollapsed('dispatching', action.type)\r\n  console.log('prev state: ', store.getState())\r\n  console.log('action: ', action)\r\n  result = next(action)\r\n  console.log('next state: ', store.getState())\r\n  console.groupEnd()\r\n  return result\r\n}\r\n\r\nconst storeFactory = () =>\r\n  createStore(\r\n    rootReducer,\r\n    applyMiddleware(logger, thunk)\r\n  )\r\n\r\nexport default storeFactory;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { Provider } from \"react-redux\";\r\nimport storeFactory from \"./components/redux/store\";\r\n\r\nconst store = storeFactory();\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n     <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}